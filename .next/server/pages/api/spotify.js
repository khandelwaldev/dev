"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/spotify";
exports.ids = ["pages/api/spotify"];
exports.modules = {

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("cors");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fspotify&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fspotify.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fspotify&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fspotify.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_spotify_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/spotify.ts */ \"(api)/./src/pages/api/spotify.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_spotify_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_spotify_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_spotify_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_spotify_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/spotify\",\n        pathname: \"/api/spotify\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_spotify_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNwb3RpZnkmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRnNwb3RpZnkudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDdUQ7QUFDdkQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHNEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxzREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teWJsb2cvPzJmNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9hcGkvc3BvdGlmeS50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Nwb3RpZnlcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zcG90aWZ5XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fspotify&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fspotify.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/spotify.ts":
/*!**********************************!*\
  !*** ./src/pages/api/spotify.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! querystring */ \"querystring\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(querystring__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cors__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst cors = cors__WEBPACK_IMPORTED_MODULE_2___default()({\n    methods: [\n        \"GET\"\n    ]\n});\nconst { SPOTIFY_CLIENT_ID: client_id, SPOTIFY_CLIENT_SECRET: client_secret, SPOTIFY_REFRESH_TOKEN: refresh_token } = process.env;\nconst token = Buffer.from(`${client_id}:${client_secret}`).toString(\"base64\");\nconst NOW_PLAYING_ENDPOINT = `https://api.spotify.com/v1/me/player/currently-playing`;\nconst TOKEN_ENDPOINT = `https://accounts.spotify.com/api/token`;\nconst getAccessToken = async ()=>{\n    const res = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(TOKEN_ENDPOINT, querystring__WEBPACK_IMPORTED_MODULE_1___default().stringify({\n        grant_type: \"refresh_token\",\n        refresh_token\n    }), {\n        headers: {\n            Authorization: `Basic ${token}`,\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n    });\n    return res.data.access_token;\n};\nconst getNowPlaying = async ()=>{\n    const access_token = await getAccessToken();\n    return axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(NOW_PLAYING_ENDPOINT, {\n        headers: {\n            Authorization: `Bearer ${access_token}`\n        }\n    });\n};\nasync function handler(req, res) {\n    // Use cors middleware to handle CORS\n    const next = ()=>{};\n    await cors(req, res, next);\n    if (req.method === \"GET\") {\n        try {\n            const response = await getNowPlaying();\n            if (response.status === 204 || response.status > 400 || response.data.currently_playing_type !== \"track\") {\n                //? s-maxage=180 because song usually lasts 3 minutes\n                res.setHeader(\"Cache-Control\", \"public, s-maxage=180, stale-while-revalidate=90\");\n                return res.status(200).json({\n                    isPlaying: false\n                });\n            }\n            const data = {\n                isPlaying: response.data.is_playing,\n                title: response.data.item.name,\n                album: response.data.item.album.name,\n                artist: response.data.item.album.artists.map((artist)=>artist.name).join(\", \"),\n                albumImageUrl: response.data.item.album.images[0].url,\n                songUrl: response.data.item.external_urls.spotify\n            };\n            res.setHeader(\"Cache-Control\", \"public, s-maxage=180, stale-while-revalidate=90\");\n            return res.status(200).json(data);\n        } catch (error) {\n            console.error(\"Error fetching Spotify data:\", error);\n            return res.status(500).json({\n                error: \"Internal Server Error\"\n            });\n        }\n    } else {\n        return res.status(405).json({\n            error: \"Method Not Allowed\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksQ0FBQztZQUFFaUIsT0FBTztRQUFxQjtJQUM1RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXlibG9nLy4vc3JjL3BhZ2VzL2FwaS9zcG90aWZ5LnRzP2VjNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgcXVlcnlzdHJpbmcgZnJvbSAncXVlcnlzdHJpbmcnO1xyXG5pbXBvcnQgQ29ycyBmcm9tICdjb3JzJztcclxuXHJcbmNvbnN0IGNvcnMgPSBDb3JzKHtcclxuICBtZXRob2RzOiBbJ0dFVCddLFxyXG59KTtcclxuXHJcbmNvbnN0IHtcclxuICBTUE9USUZZX0NMSUVOVF9JRDogY2xpZW50X2lkLFxyXG4gIFNQT1RJRllfQ0xJRU5UX1NFQ1JFVDogY2xpZW50X3NlY3JldCxcclxuICBTUE9USUZZX1JFRlJFU0hfVE9LRU46IHJlZnJlc2hfdG9rZW4sXHJcbn0gPSBwcm9jZXNzLmVudjtcclxuXHJcbmNvbnN0IHRva2VuID0gQnVmZmVyLmZyb20oYCR7Y2xpZW50X2lkfToke2NsaWVudF9zZWNyZXR9YCkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xyXG5jb25zdCBOT1dfUExBWUlOR19FTkRQT0lOVCA9IGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9tZS9wbGF5ZXIvY3VycmVudGx5LXBsYXlpbmdgO1xyXG5jb25zdCBUT0tFTl9FTkRQT0lOVCA9IGBodHRwczovL2FjY291bnRzLnNwb3RpZnkuY29tL2FwaS90b2tlbmA7XHJcblxyXG5pbnRlcmZhY2UgU3BvdGlmeURhdGEge1xyXG4gIGlzX3BsYXlpbmc6IGJvb2xlYW47XHJcbiAgaXRlbToge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgYWxidW06IHtcclxuICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICBhcnRpc3RzOiBBcnJheTx7IG5hbWU6IHN0cmluZyB9PjtcclxuICAgICAgaW1hZ2VzOiBbeyB1cmw6IHN0cmluZyB9XTtcclxuICAgIH07XHJcbiAgICBleHRlcm5hbF91cmxzOiB7XHJcbiAgICAgIHNwb3RpZnk6IHN0cmluZztcclxuICAgIH07XHJcbiAgfTtcclxuICBjdXJyZW50bHlfcGxheWluZ190eXBlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IGdldEFjY2Vzc1Rva2VuID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3Q8eyBhY2Nlc3NfdG9rZW46IHN0cmluZyB9PihcclxuICAgIFRPS0VOX0VORFBPSU5ULFxyXG4gICAgcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHtcclxuICAgICAgZ3JhbnRfdHlwZTogJ3JlZnJlc2hfdG9rZW4nLFxyXG4gICAgICByZWZyZXNoX3Rva2VuLFxyXG4gICAgfSksXHJcbiAgICB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmFzaWMgJHt0b2tlbn1gLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcclxuICAgICAgfSxcclxuICAgIH1cclxuICApO1xyXG5cclxuICByZXR1cm4gcmVzLmRhdGEuYWNjZXNzX3Rva2VuO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0Tm93UGxheWluZyA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBhY2Nlc3NfdG9rZW4gPSBhd2FpdCBnZXRBY2Nlc3NUb2tlbigpO1xyXG5cclxuICByZXR1cm4gYXhpb3MuZ2V0PFNwb3RpZnlEYXRhPihOT1dfUExBWUlOR19FTkRQT0lOVCwge1xyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzX3Rva2VufWAsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcclxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxyXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXHJcbikge1xyXG4gIC8vIFVzZSBjb3JzIG1pZGRsZXdhcmUgdG8gaGFuZGxlIENPUlNcclxuICBjb25zdCBuZXh0ID0gKCkgPT4ge307XHJcbiAgYXdhaXQgY29ycyhyZXEsIHJlcywgbmV4dCk7XHJcblxyXG4gIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXROb3dQbGF5aW5nKCk7XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgcmVzcG9uc2Uuc3RhdHVzID09PSAyMDQgfHxcclxuICAgICAgICByZXNwb25zZS5zdGF0dXMgPiA0MDAgfHxcclxuICAgICAgICByZXNwb25zZS5kYXRhLmN1cnJlbnRseV9wbGF5aW5nX3R5cGUgIT09ICd0cmFjaydcclxuICAgICAgKSB7XHJcbiAgICAgICAgLy8/IHMtbWF4YWdlPTE4MCBiZWNhdXNlIHNvbmcgdXN1YWxseSBsYXN0cyAzIG1pbnV0ZXNcclxuICAgICAgICByZXMuc2V0SGVhZGVyKFxyXG4gICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnLFxyXG4gICAgICAgICAgJ3B1YmxpYywgcy1tYXhhZ2U9MTgwLCBzdGFsZS13aGlsZS1yZXZhbGlkYXRlPTkwJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgaXNQbGF5aW5nOiBmYWxzZSB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBpc1BsYXlpbmc6IHJlc3BvbnNlLmRhdGEuaXNfcGxheWluZyxcclxuICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5pdGVtLm5hbWUsXHJcbiAgICAgICAgYWxidW06IHJlc3BvbnNlLmRhdGEuaXRlbS5hbGJ1bS5uYW1lLFxyXG4gICAgICAgIGFydGlzdDogcmVzcG9uc2UuZGF0YS5pdGVtLmFsYnVtLmFydGlzdHNcclxuICAgICAgICAgIC5tYXAoKGFydGlzdCkgPT4gYXJ0aXN0Lm5hbWUpXHJcbiAgICAgICAgICAuam9pbignLCAnKSxcclxuICAgICAgICBhbGJ1bUltYWdlVXJsOiByZXNwb25zZS5kYXRhLml0ZW0uYWxidW0uaW1hZ2VzWzBdLnVybCxcclxuICAgICAgICBzb25nVXJsOiByZXNwb25zZS5kYXRhLml0ZW0uZXh0ZXJuYWxfdXJscy5zcG90aWZ5LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmVzLnNldEhlYWRlcihcclxuICAgICAgICAnQ2FjaGUtQ29udHJvbCcsXHJcbiAgICAgICAgJ3B1YmxpYywgcy1tYXhhZ2U9MTgwLCBzdGFsZS13aGlsZS1yZXZhbGlkYXRlPTkwJ1xyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oZGF0YSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBTcG90aWZ5IGRhdGE6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIFNlcnZlciBFcnJvcicgfSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIE5vdCBBbGxvd2VkJyB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiYXhpb3MiLCJxdWVyeXN0cmluZyIsIkNvcnMiLCJjb3JzIiwibWV0aG9kcyIsIlNQT1RJRllfQ0xJRU5UX0lEIiwiY2xpZW50X2lkIiwiU1BPVElGWV9DTElFTlRfU0VDUkVUIiwiY2xpZW50X3NlY3JldCIsIlNQT1RJRllfUkVGUkVTSF9UT0tFTiIsInJlZnJlc2hfdG9rZW4iLCJwcm9jZXNzIiwiZW52IiwidG9rZW4iLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJOT1dfUExBWUlOR19FTkRQT0lOVCIsIlRPS0VOX0VORFBPSU5UIiwiZ2V0QWNjZXNzVG9rZW4iLCJyZXMiLCJwb3N0Iiwic3RyaW5naWZ5IiwiZ3JhbnRfdHlwZSIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiZGF0YSIsImFjY2Vzc190b2tlbiIsImdldE5vd1BsYXlpbmciLCJnZXQiLCJoYW5kbGVyIiwicmVxIiwibmV4dCIsIm1ldGhvZCIsInJlc3BvbnNlIiwic3RhdHVzIiwiY3VycmVudGx5X3BsYXlpbmdfdHlwZSIsInNldEhlYWRlciIsImpzb24iLCJpc1BsYXlpbmciLCJpc19wbGF5aW5nIiwidGl0bGUiLCJpdGVtIiwibmFtZSIsImFsYnVtIiwiYXJ0aXN0IiwiYXJ0aXN0cyIsIm1hcCIsImpvaW4iLCJhbGJ1bUltYWdlVXJsIiwiaW1hZ2VzIiwidXJsIiwic29uZ1VybCIsImV4dGVybmFsX3VybHMiLCJzcG90aWZ5IiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/spotify.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fspotify&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fspotify.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();